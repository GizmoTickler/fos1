apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: networkinterfaces.networking.fos1.io
spec:
  group: networking.fos1.io
  versions:
    - name: v1
      served: true
      storage: true
      schema:
        openAPIV3Schema:
          type: object
          properties:
            spec:
              type: object
              required: ["name"]
              properties:
                name:
                  type: string
                  description: "Interface name (e.g., eth0)"
                type:
                  type: string
                  description: "Interface type (physical, virtual, vlan)"
                  enum: ["physical", "virtual", "vlan", "bridge"]
                address:
                  type: string
                  description: "IP address with CIDR notation (e.g., 192.168.1.1/24)"
                mtu:
                  type: integer
                  description: "Maximum Transmission Unit"
                  minimum: 576
                  maximum: 9000
                vlan:
                  type: integer
                  description: "VLAN ID (1-4094)"
                  minimum: 1
                  maximum: 4094
                parent:
                  type: string
                  description: "Parent interface name (for VLAN interfaces)"
      additionalPrinterColumns:
      - name: Name
        type: string
        jsonPath: .spec.name
      - name: Type
        type: string
        jsonPath: .spec.type
      - name: Address
        type: string
        jsonPath: .spec.address
      - name: Age
        type: date
        jsonPath: .metadata.creationTimestamp
  scope: Namespaced
  names:
    plural: networkinterfaces
    singular: networkinterface
    kind: NetworkInterface
    shortNames:
    - ni
    - netif
